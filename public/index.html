<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 装机诊断室 - 硬件配置深度评估</title>
    <link rel="dns-prefetch" href="https://api.deepseek.com">

    <!-- 基础库 -->
    <script src="https://cdn.tailwindcss.com" defer></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700;900&display=swap"
        rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/countup.js@2.0.7/dist/CountUp.umd.js"></script>
    <script src="hardware_data.js" defer></script>

    <style>
        /* ================= 基础布局与过渡 ================= */
        :root {
            --ease-out-quart: cubic-bezier(0.25, 1, 0.5, 1);
            --duration-theme: 0.4s;
        }

        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: var(--c-page-bg);
            color: var(--c-text-main);
            transition: background-color var(--duration-theme) var(--ease-out-quart),
                color var(--duration-theme) var(--ease-out-quart);
            position: relative;
            overflow-x: hidden;
            /* [修复] 设置透视基准，初始化 3D 场景，避免卡片堆叠上下文混乱 */
            perspective: 1500px;
            z-index: 1;
            cursor: default;
        }

        /* [已撤销] 自定义光标样式已移除 */


        /* [环境光层] - 恢复径向渐变光效的容器 */
        #ambient-light {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            /* [修复] Z-index 保持最低，确保它在所有内容卡片之下 */
            z-index: -10;
            transition: opacity 1s ease;
            opacity: 1;
            will-change: background;
        }

        /* [已撤销] AWaves 和 SVG 样式已移除 */


        /* [质感纹理] - 极淡噪点，增加背景深度 */
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.15'/%3E%3C/svg%3E");
            pointer-events: none;
            z-index: -20;
            /* 确保低于光晕 */
            opacity: 0.04;
            /* 减弱噪点效果 */
            mix-blend-mode: overlay;
        }

        /* ================= 动态组件系统 (UI Kit) ================= */

        .interactive-card {
            background-color: var(--c-card-bg);
            border: 1px solid var(--c-border);
            box-shadow: var(--shadow-sm);
            border-radius: 1rem;
            backdrop-filter: blur(12px);
            /* 增加模糊度，体现玻璃质感 */
            position: relative;
            /* [修复] 赋予卡片明确的 Z-index，确保它们在前景 */
            z-index: 10;
            overflow: hidden;
            transition: box-shadow 0.4s var(--ease-out-quart),
                background-color var(--duration-theme) var(--ease-out-quart),
                border-color var(--duration-theme) var(--ease-out-quart),
                margin-top 0.4s var(--ease-out-quart);

            /* [核心] 3D 悬浮交互准备 */
            transform-style: preserve-3d;
            will-change: transform;
            margin-top: 0px;
        }

        /* 移除卡片内部的光效伪元素，保持卡片纯净 */
        .interactive-card:hover {
            box-shadow: var(--shadow-hover);
            border-color: var(--c-primary-light);
        }

        .ui-nav {
            background-color: var(--c-nav-bg);
            border-bottom: 1px solid var(--c-border);
            backdrop-filter: blur(20px);
            /* 导航栏 Z-index 最高 */
            z-index: 90;
            transition: background-color var(--duration-theme) var(--ease-out-quart),
                border-color var(--duration-theme) var(--ease-out-quart);
        }

        .ui-input-transparent {
            width: 100%;
            background-color: transparent;
            border: 0;
            color: var(--c-text-head);
            padding: 1.5rem;
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
            font-size: 1rem;
            line-height: 1.6;
            resize: none;
            outline: none;
            height: 15rem;
            transition: color var(--duration-theme) var(--ease-out-quart);
            position: relative;
            z-index: 10;
        }

        .ui-input-transparent::placeholder {
            color: var(--c-text-mute);
            opacity: 0.6;
            transition: color var(--duration-theme) var(--ease-out-quart);
        }

        .ui-input-wrapper {
            position: relative;
            background-color: var(--c-card-bg);
            border: 1px solid var(--c-border);
            border-radius: 1rem;
            overflow: hidden;
            transition: background-color var(--duration-theme) var(--ease-out-quart),
                border-color 0.2s ease,
                box-shadow 0.2s ease;
        }

        .ui-input-wrapper:focus-within {
            border-color: var(--c-primary);
            box-shadow: 0 0 0 4px var(--c-focus-ring);
        }

        .ui-input-footer {
            background-color: var(--c-input-bg);
            border-top: 1px solid var(--c-border);
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color var(--duration-theme) var(--ease-out-quart),
                border-color var(--duration-theme) var(--ease-out-quart);
            position: relative;
            z-index: 10;
        }

        .ui-btn-primary {
            background-color: var(--c-primary);
            color: #ffffff;
            font-weight: 600;
            border-radius: 0.75rem;
            box-shadow: var(--shadow-sm);
            letter-spacing: 0.05em;
            transition: all 0.3s var(--ease-out-quart);
        }

        .ui-btn-primary:hover {
            background-color: var(--c-primary-hover);
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }

        .ui-btn-primary:disabled {
            background-color: var(--c-border);
            color: var(--c-text-mute);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* 标签动画 */
        .ui-tag {
            background-color: var(--c-input-bg);
            color: var(--c-text-mute);
            border: 1px solid var(--c-border);
            font-weight: 500;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            display: inline-flex;
            align-items: center;
        }

        .ui-tag-enter {
            animation: tagPop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
            opacity: 0;
            transform: translateY(10px) scale(0.9);
        }

        @keyframes tagPop {
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        /* ================= 辅助类 ================= */
        .ui-heading {
            color: var(--c-text-head);
            transition: color var(--duration-theme) var(--ease-out-quart);
        }

        .ui-text-highlight {
            color: var(--c-primary);
            transition: color var(--duration-theme) var(--ease-out-quart);
        }

        .ui-text-mute {
            color: var(--c-text-mute);
            transition: color var(--duration-theme) var(--ease-out-quart);
        }

        .font-data {
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            letter-spacing: -0.05em;
        }

        /* ================= Markdown 排版增强 ================= */

        .markdown-content {
            line-height: 1.8;
            color: var(--c-text-main);
        }

        /* 标题强化 */
        .markdown-content h1,
        .markdown-content h2,
        .markdown-content h3,
        .markdown-content h4 {
            color: var(--c-text-head);
            font-weight: 800;
            margin-top: 1.5em;
            margin-bottom: 0.75em;
            line-height: 1.3;
            letter-spacing: -0.02em;
        }

        .markdown-content h3 {
            font-size: 1.25em;
            border-bottom: 1px dashed var(--c-border);
            padding-bottom: 0.3em;
            display: flex;
            align-items: center;
        }

        /* 自动给 h3 添加一个小装饰块，增加仪式感 */
        .markdown-content h3::before {
            content: '';
            display: inline-block;
            width: 6px;
            height: 16px;
            background-color: var(--c-primary);
            margin-right: 8px;
            border-radius: 2px;
        }

        /* [优化] 列表样式 */
        .markdown-content ul {
            list-style-type: disc;
            padding-left: 1.5em;
            margin-bottom: 1em;
            color: var(--c-text-main);
        }

        .markdown-content li {
            margin-bottom: 0.4em;
            position: relative;
        }

        /* 引用块美化 */
        .markdown-content blockquote {
            border-left: 4px solid var(--c-primary);
            background-color: var(--c-input-bg);
            padding: 0.8rem 1.2rem;
            margin: 1.5rem 0;
            border-radius: 0 0.5rem 0.5rem 0;
            color: var(--c-text-mute);
            font-style: italic;
        }

        .markdown-content blockquote p {
            margin: 0;
        }

        /* 段落间距 */
        .markdown-content p {
            margin-bottom: 1em;
        }

        /* 代码块 */
        .markdown-content code {
            font-family: ui-monospace, SFMono-Regular, monospace;
            background-color: var(--c-input-bg);
            padding: 0.2em 0.4em;
            border-radius: 0.25em;
            font-size: 0.9em;
            border: 1px solid var(--c-border);
            color: var(--c-primary);
        }

        .cursor-blink {
            display: inline-block;
            width: 3px;
            height: 1.1em;
            background-color: var(--c-primary);
            margin-left: 2px;
            vertical-align: text-bottom;
            animation: blink 1s step-end infinite;
        }

        @keyframes blink {
            50% {
                opacity: 0;
            }
        }

        /* [优化] 进度条样式升级 */
        .progress-track {
            background-color: var(--c-border);
            border-radius: 4px;
            height: 0.6rem;
            overflow: hidden;
            transition: background-color var(--duration-theme) var(--ease-out-quart);
        }

        .progress-fill {
            height: 100%;
            transition: width 1.5s cubic-bezier(0.22, 1, 0.36, 1), background-color var(--duration-theme) var(--ease-out-quart);
            background-color: var(--c-primary);
            /* Default fallback */
        }

        /* 动态评分颜色 */
        .fill-warning {
            background-color: #f59e0b;
        }

        /* Amber-500 */
        .fill-primary {
            background-color: var(--c-primary);
        }

        .fill-success {
            background-color: #10b981;
        }

        /* Emerald-500 */
        .fill-legendary {
            background: linear-gradient(90deg, #8b5cf6, #d946ef);
        }

        /* Purple-Pink Gradient */

        .state-success {
            background: var(--s-success-bg);
            border-color: var(--s-success-border);
            color: var(--s-success-text);
        }

        .state-warning {
            background: var(--s-warning-bg);
            border-color: var(--s-warning-border);
            color: var(--s-warning-text);
        }

        .state-danger {
            background: var(--s-danger-bg);
            border-color: var(--s-danger-border);
            color: var(--s-danger-text);
        }

        .state-info {
            background: var(--c-input-bg);
            border-color: var(--c-border);
            color: var(--c-text-main);
        }

        .summary-window {
            /* 移除之前的渐变，由外部光效接管氛围 */
            background-color: var(--c-card-bg);
        }

        .rules-popover {
            position: absolute;
            top: 100%;
            right: 0;
            /* 锚定到父元素右侧 */
            left: auto;
            /* 保证从右侧开始定位 */
            width: calc(100vw - 40px);
            /* 移动端默认宽度 (屏幕宽度减去边距) */
            max-width: 840px;
            /* [修复 1] 增加最大宽度到 840px (约 3 倍 280px) */
            padding: 1rem;
            background-color: var(--c-card-bg);
            border: 1px solid var(--c-border);
            border-radius: 0.75rem;
            box-shadow: var(--shadow-hover);
            z-index: 50;
            opacity: 0;
            visibility: hidden;
            transform: translateY(10px);
            transition: all 0.3s var(--ease-out-quart);
            margin-top: 0.5rem;
        }

        .rules-trigger:hover+.rules-popover,
        .rules-popover:hover {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .rule-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.75rem;
            padding: 0.25rem 0;
            color: var(--c-text-mute);
            border-bottom: 1px dashed var(--c-border);
        }

        .rule-item:last-child {
            border-bottom: none;
        }

        .rule-score {
            font-weight: 700;
            color: var(--c-text-head);
            font-family: ui-monospace, SFMono-Regular, monospace;
        }

        /* 响应式优化：在较大屏幕上，将弹出窗口限制为最大 840px，居中于问号图标下方 */
        @media (min-width: 768px) {
            .rules-popover {
                left: 50%;
                /* 居中定位 */
                right: auto;
                transform: translateX(-50%) translateY(10px);
                /* 居中并保持位移 */
            }

            .rules-trigger:hover+.rules-popover,
            .rules-popover:hover {
                transform: translateX(-50%) translateY(0);
            }
        }

        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--c-border);
            border-radius: 3px;
        }

        /* ================= 电影感动画 (Cinematic Reveal) ================= */
        .reveal-hidden {
            opacity: 0;
            visibility: hidden;
        }

        @keyframes popUp {
            0% {
                opacity: 0;
                transform: scale(0.95) translateY(20px);
                visibility: visible;
            }

            100% {
                opacity: 1;
                transform: scale(1) translateY(0);
                visibility: visible;
            }
        }

        .animate-pop-up {
            animation: popUp 0.8s var(--ease-out-quart) forwards;
        }

        @keyframes unfold {
            0% {
                opacity: 0;
                transform: scaleY(0.85) translateY(20px);
                filter: blur(8px);
                visibility: visible;
            }

            100% {
                opacity: 1;
                transform: scaleY(1) translateY(0);
                filter: blur(0);
                visibility: visible;
            }
        }

        .animate-unfold {
            animation: unfold 0.7s var(--ease-out-quart) forwards;
        }

        @keyframes slideUp {
            0% {
                opacity: 0;
                transform: translateY(30px);
                filter: blur(5px);
                visibility: visible;
            }

            100% {
                opacity: 1;
                transform: translateY(0);
                filter: blur(0);
                visibility: visible;
            }
        }

        .animate-slide-up {
            animation: slideUp 0.6s var(--ease-out-quart) forwards;
        }

        .stagger-item:nth-child(1) {
            animation-delay: 150ms;
        }

        .stagger-item:nth-child(2) {
            animation-delay: 300ms;
        }

        .stagger-item:nth-child(3) {
            animation-delay: 450ms;
        }

        .stagger-item:nth-child(4) {
            animation-delay: 600ms;
        }

        .stagger-item:nth-child(5) {
            animation-delay: 750ms;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .loading-spin {
            animation: spin 1s linear infinite;
        }
    </style>
</head>

<body class="min-h-screen flex flex-col">

    <!-- [新] 独立环境光层 - 恢复径向渐变光效 -->
    <div id="ambient-light"></div>

    <!-- [已撤销] 自定义光标元素已移除 -->

    <!-- 导航栏 -->
    <nav class="ui-nav p-4 sticky top-0 z-50">
        <div class="container mx-auto flex justify-between items-center max-w-5xl">
            <div class="flex items-center gap-4 shrink-0">
                <div class="flex items-center space-x-2">
                    <div class="bg-blue-600 text-white p-1.5 rounded-lg shadow-sm">
                        <i class="fa-solid fa-microchip text-lg"></i>
                    </div>
                    <h1 class="text-xl font-bold ui-heading tracking-tight">AI 装机<span
                            class="ui-text-highlight">诊断室</span></h1>
                </div>

                <button id="themeToggleBtn"
                    class="w-9 h-9 flex items-center justify-center rounded-full border border-transparent hover:border-current transition-all text-slate-400 hover:text-blue-500"
                    aria-label="切换模式">
                    <i class="fa-solid fa-sun dark:hidden"></i>
                    <i class="fa-solid fa-moon hidden dark:block"></i>
                </button>
            </div>

            <div class="flex items-center gap-3">
                <span class="ui-tag px-3 py-1 rounded-full text-xs hidden sm:inline-block">
                    <i class="fa-solid fa-database mr-1 ui-text-highlight"></i> DB 2025
                </span>
            </div>
        </div>
    </nav>

    <main class="flex-grow container mx-auto px-4 py-8 max-w-5xl relative z-10" id="main-container">
        <div class="text-center mb-10 mt-6 animate-slide-up">
            <h2 class="text-3xl md:text-5xl font-black mb-4 ui-heading tracking-tight leading-tight">
                上传配置信息<br>
                <span style="color: var(--c-primary); transition: color 0.4s var(--ease-out-quart);">
                    深度评估硬件实力
                </span>
            </h2>
            <p class="ui-text-mute text-sm md:text-base max-w-2xl mx-auto">
                基于 2025 权威硬件数据库 · AI 驱动分析引擎<br>
            </p>
        </div>

        <!-- 输入区 -->
        <div id="inputCard" class="interactive-card ui-input-wrapper shadow-lg animate-slide-up"
            style="animation-delay: 100ms;">
            <textarea id="configInput" class="ui-input-transparent" placeholder="
示例配置单：

需求：这台电脑主要用于游戏和AI开发
CPU: Intel Core Ultra 5 245KF
显卡: GeForce RTX 5060
内存: 32G DDR5 6000MHz
硬盘: Samsung 9100 PRO 2TB
"></textarea>

            <div id="detectedHardwareBar"
                class="hidden border-t px-6 py-2 flex flex-wrap items-center gap-2 min-h-[40px] transition-colors"
                style="border-color: var(--c-border); background-color: var(--c-input-bg);">
                <span class="text-[10px] font-bold ui-text-mute uppercase tracking-wider mr-2">Detected:</span>
                <div id="detectedTags" class="flex flex-wrap gap-2"></div>
            </div>

            <div class="ui-input-footer">
                <div class="text-xs ui-text-mute flex items-center gap-2">
                    <span id="dbStatus" class="flex items-center gap-1.5"><i
                            class="fa-solid fa-spinner loading-spin"></i> 正在加载数据库...</span>
                </div>
                <button onclick="startAnalysis()" id="scanBtn"
                    class="ui-btn-primary py-2.5 px-8 flex items-center gap-2 text-sm min-w-[140px] justify-center">
                    <i class="fa-solid fa-microscope"></i> 开始诊断
                </button>
            </div>
        </div>

        <div id="errorArea"
            class="hidden mt-6 state-danger p-4 rounded-xl shadow-sm relative flex items-start gap-3 animate-slide-up">
            <i class="fa-solid fa-circle-exclamation mt-1"></i>
            <div>
                <strong class="font-bold block mb-1">分析中断</strong>
                <span class="text-sm opacity-90" id="errorText"></span>
            </div>
            <button class="absolute top-3 right-4 opacity-60 hover:opacity-100"
                onclick="document.getElementById('errorArea').classList.add('hidden')">
                <i class="fa-solid fa-times"></i>
            </button>
        </div>

        <!-- 结果展示区 -->
        <div id="resultArea" class="hidden mt-10 spotlight-group">

            <div class="grid grid-cols-1 lg:grid-cols-12 gap-6 mb-6">
                <!-- 1. 总分卡片 -->
                <div id="card-score"
                    class="lg:col-span-4 interactive-card ui-card p-6 flex flex-col justify-between relative overflow-hidden summary-window"
                    style="overflow: visible;">
                    <div class="relative z-10">
                        <div class="flex justify-between items-start mb-4 relative">
                            <div class="flex items-center gap-2">
                                <h3 class="text-xs font-bold ui-text-mute uppercase tracking-widest">综合评分</h3>
                                <!-- 评分规则触发器 -->
                                <div class="relative group">
                                    <i
                                        class="fa-regular fa-circle-question text-xs ui-text-mute cursor-help rules-trigger hover:text-blue-500 transition-colors"></i>
                                    <div class="rules-popover">
                                        <div
                                            class="text-[10px] font-bold ui-heading mb-2 border-b border-dashed border-gray-200 pb-1">
                                            评分标准 (基准分: 100)</div>
                                        <div class="rule-item"><span>入门/办公</span><span
                                                class="rule-score text-gray-400">0 - 60</span></div>
                                        <div class="rule-item"><span>主流中端</span><span
                                                class="rule-score text-blue-500">60 - 90</span></div>
                                        <div class="rule-item"><span>高端/甜点</span><span
                                                class="rule-score text-emerald-500">90 - 120</span></div>
                                        <div class="rule-item"><span>旗舰/幻想</span><span
                                                class="rule-score text-purple-500">120 +</span></div>
                                        <div class="mt-2 text-[9px] ui-text-mute leading-tight opacity-70">
                                            * 总分包含硬实力(0-150)与偏好加成(0-10)。
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="verdictBadge"
                                class="px-3 py-1 rounded-md text-xs font-bold bg-slate-100 dark:bg-slate-800 ui-text-mute transition-colors">
                                --</div>
                        </div>

                        <div class="flex items-baseline gap-1 mt-2 mb-6">
                            <span class="text-7xl font-black tracking-tighter ui-heading font-data"
                                id="scoreDisplay">0</span>
                            <span class="text-lg ui-text-mute font-medium font-data">/ 100</span>
                        </div>

                        <div id="prefContainer" class="hidden mb-6"></div>

                        <div class="mt-auto pt-4 border-t text-[10px] ui-text-mute flex gap-4"
                            style="border-color: var(--c-border)">
                            <div class="flex items-center"><span
                                    class="w-1.5 h-1.5 rounded-full bg-slate-400 inline-block mr-1.5"></span>客观性能（MAX：150）</div>
                            <div class="flex items-center"><span class="w-1.5 h-1.5 rounded-full inline-block mr-1.5"
                                    style="background-color: var(--c-primary)"></span>偏好加成（MAX：10）</div>
                        </div>
                    </div>
                </div>

                <!-- 2. 雷达图 -->
                <div id="card-detail"
                    class="lg:col-span-8 interactive-card ui-card p-6 flex flex-col md:flex-row gap-8">
                    <div class="flex-1 grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-6">
                        <!-- 动态生成的进度条 -->
                        <div>
                            <div class="flex justify-between text-xs mb-1.5">
                                <span class="font-bold ui-text-mute"><i
                                        class="fa-solid fa-gauge-high mr-1.5 fa-fw"></i>性能释放</span>
                                <span class="font-bold ui-heading font-data" id="score-perf">--</span>
                            </div>
                            <div class="progress-track">
                                <div id="bar-perf" class="progress-fill"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-xs mb-1.5">
                                <span class="font-bold ui-text-mute"><i
                                        class="fa-solid fa-coins mr-1.5 fa-fw"></i>性价比</span>
                                <span class="font-bold ui-heading font-data" id="score-val">--</span>
                            </div>
                            <div class="progress-track">
                                <div id="bar-val" class="progress-fill"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-xs mb-1.5">
                                <span class="font-bold ui-text-mute"><i
                                        class="fa-solid fa-puzzle-piece mr-1.5 fa-fw"></i>兼容性</span>
                                <span class="font-bold ui-heading font-data" id="score-comp">--</span>
                            </div>
                            <div class="progress-track">
                                <div id="bar-comp" class="progress-fill"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-xs mb-1.5">
                                <span class="font-bold ui-text-mute"><i
                                        class="fa-solid fa-shield-halved mr-1.5 fa-fw"></i>品质/做工</span>
                                <span class="font-bold ui-heading font-data" id="score-qual">--</span>
                            </div>
                            <div class="progress-track">
                                <div id="bar-qual" class="progress-fill"></div>
                            </div>
                        </div>
                    </div>

                    <!-- [调整] 雷达图容器放大至 w-80 h-80 (20rem)，提升视觉占比 -->
                    <div class="w-full md:w-5/12 flex items-center justify-center opacity-90">
                        <div class="w-80 h-80">
                            <canvas id="radarChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 3. 诊断结论 (Typewriter Effect) -->
            <div id="card-summary" class="mb-6 interactive-card ui-card p-8 summary-window">
                <div class="flex items-center gap-3 mb-4 pb-4 border-b" style="border-color: var(--c-border)">
                    <div
                        class="bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400 w-10 h-10 rounded-full flex items-center justify-center">
                        <i class="fa-solid fa-user-doctor text-xl"></i>
                    </div>
                    <div>
                        <h3 class="font-black text-lg ui-heading tracking-tight">AI 诊断结论书</h3>
                        <p class="text-xs ui-text-mute uppercase tracking-widest font-bold">Comprehensive Analysis</p>
                    </div>
                </div>
                <!-- 容器用于流式打字，应用增强的 Markdown 样式 -->
                <div id="aiSummary" class="markdown-content"></div>

                <!-- 免责声明 -->
                <div class="mt-6 pt-4 border-t border-dashed" style="border-color: var(--c-border)">
                    <p class="text-[10px] ui-text-mute text-center opacity-70">
                        <i class="fa-solid fa-triangle-exclamation mr-1"></i> 内容由AI生成，分析结果可能不准确，请结合实际自行判断
                    </p>
                </div>
            </div>

            <!-- 4. 详细模块 -->
            <div>
                <h3 id="modules-title"
                    class="text-xs font-bold ui-text-mute uppercase tracking-widest mb-4 ml-1 flex items-center gap-2">
                    <i class="fa-solid fa-list-check"></i> 详细检查项目
                </h3>
                <div id="aiModulesContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div>
            </div>

            <div class="text-center mt-12 mb-8" id="footer-text">
                <p class="text-[10px] ui-text-mute uppercase tracking-widest">Powered by DeepSeek & Local Hardware DB
                </p>
            </div>
        </div>
    </main>

    <script>
        const COLOR_CONFIG = {
            light: {
                '--c-page-bg': '#f0f4f8',
                '--c-card-bg': '#ffffff',
                '--c-nav-bg': 'rgba(255, 255, 255, 0.9)',
                '--c-text-main': '#334155',
                '--c-text-head': '#1e293b',
                '--c-text-mute': '#64748b',
                '--c-primary': '#2563eb',
                '--c-primary-hover': '#1d4ed8',
                '--c-primary-light': '#dbeafe',
                '--c-border': '#e2e8f0',
                '--c-input-bg': '#f8fafc',
                '--c-focus-ring': 'rgba(37, 99, 235, 0.15)',
                '--c-glow': 'rgba(59, 130, 246, 0.08)',
                '--shadow-sm': '0 1px 2px 0 rgba(15, 23, 42, 0.05)',
                '--shadow-hover': '0 10px 25px -5px rgba(59, 130, 246, 0.15)',
                '--s-success-bg': '#ecfdf5', '--s-success-text': '#059669', '--s-success-border': '#d1fae5',
                '--s-warning-bg': '#fffbeb', '--s-warning-text': '#b45309', '--s-warning-border': '#fef3c7',
                '--s-danger-bg': '#fff1f2', '--s-danger-text': '#be123c', '--s-danger-border': '#ffe4e6',
                '--s-info-bg': '#f8fafc', '--s-info-text': '#334155', '--s-info-border': '#e2e8f0',
                '--s-bonus-bg': '#e0e7ff', '--s-bonus-text': '#3730a3', '--s-bonus-border': '#c7d2fe',
                // [优化] 白天光源颜色加深一倍，增强对比度
                '--c-light-spot': 'rgba(50, 140, 230, 1)'
            },
            dark: {
                '--c-page-bg': '#0f172a',
                '--c-card-bg': '#1e293b',
                '--c-nav-bg': 'rgba(15, 23, 42, 0.9)',
                '--c-text-main': '#cbd5e1',
                '--c-text-head': '#f1f5f9',
                '--c-text-mute': '#94a3b8',
                '--c-primary': '#60a5fa',
                '--c-primary-hover': '#3b82f6',
                '--c-primary-light': '#334155',
                '--c-border': '#334155',
                '--c-input-bg': '#0f172a',
                '--c-focus-ring': 'rgba(96, 165, 250, 0.2)',
                '--c-glow': 'rgba(96, 165, 250, 0.08)',
                '--shadow-sm': '0 1px 2px 0 rgba(0, 0, 0, 0.3)',
                '--shadow-hover': '0 10px 30px -5px rgba(0, 0, 0, 0.5)',
                '--s-success-bg': '#064e3b', '--s-success-text': '#6ee7b7', '--s-success-border': '#065f46',
                '--s-warning-bg': '#451a03', '--s-warning-text': '#fcd34d', '--s-warning-border': '#78350f',
                '--s-danger-bg': '#4c0519', '--s-danger-text': '#fda4af', '--s-danger-border': '#881337',
                '--s-info-bg': '#1e293b', '--s-info-text': '#cbd5e1', '--s-info-border': '#334155',
                '--s-bonus-bg': '#312e81', '--s-bonus-text': '#c7d2fe', '--s-bonus-border': '#4338ca',
                // [新] 光源颜色 - 纯白 (极淡)
                '--c-light-spot': 'rgba(255, 255, 255, 1)'
            }
        };

        // [新增] 光源配置对象，避免在动画循环中重复判断
        const LightConfig = {
            get() {
                const isDark = document.documentElement.classList.contains('dark');
                // 调整亮度基线和波动幅度以实现“聚光灯”效果
                return {
                    // [修改] 亮度加深/加亮一倍
                    baseOpacity: isDark ? 0.16 : 0.30, // 0.08 -> 0.16 | 0.15 -> 0.30
                    opacityVariation: isDark ? 0.04 : 0.10, // 波动幅度略微加大，以保持呼吸感明显
                    lightColor: getComputedStyle(document.documentElement).getPropertyValue('--c-light-spot').trim(),
                };
            }
        };

        function generateThemeStyles() {
            let styleContent = `
                :root { ${Object.entries(COLOR_CONFIG.light).map(([k, v]) => `${k}: ${v};`).join(' ')} }
                html.dark { ${Object.entries(COLOR_CONFIG.dark).map(([k, v]) => `${k}: ${v};`).join(' ')} }
            `;
            const styleEl = document.createElement('style');
            styleEl.id = 'theme-variables';
            styleEl.innerHTML = styleContent;
            document.head.appendChild(styleEl);
        }

        const ThemeManager = {
            currentMode: 'light',

            init() {
                generateThemeStyles();
                const stored = localStorage.getItem('theme');
                const sysDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
                const h = new Date().getHours();
                this.setMode(stored ? stored : (sysDark ? 'dark' : (h >= 18 || h < 6 ? 'dark' : 'light')));

                document.getElementById('themeToggleBtn').onclick = () => this.toggle();
            },

            toggle() {
                this.setMode(this.currentMode === 'light' ? 'dark' : 'light');
            },

            setMode(mode) {
                this.currentMode = mode;
                localStorage.setItem('theme', mode);

                if (mode === 'dark') document.documentElement.classList.add('dark');
                else document.documentElement.classList.remove('dark');

                if (window.ChartManager) ChartManager.handleThemeChange(mode);
            },

            getColors() { return COLOR_CONFIG[this.currentMode]; }
        };

        const ChartManager = {
            chartInstance: null,
            init() { },
            getFontSize() { return window.innerWidth < 640 ? 8 : 10; },

            createOrUpdate(data) {
                const ctx = document.getElementById('radarChart').getContext('2d');
                const mode = ThemeManager.currentMode;
                const colors = COLOR_CONFIG[mode];
                const fontSize = this.getFontSize();

                this.currentData = data;
                if (this.chartInstance) this.chartInstance.destroy();

                const hexToRgba = (hex, alpha) => {
                    const r = parseInt(hex.slice(1, 3), 16);
                    const g = parseInt(hex.slice(3, 5), 16);
                    const b = parseInt(hex.slice(5, 7), 16);
                    return `rgba(${r}, ${g}, ${b}, ${alpha})`;
                };

                const primary = colors['--c-primary'];
                const mute = colors['--c-text-mute'];

                this.chartInstance = new Chart(ctx, {
                    type: 'radar',
                    data: {
                        labels: ['性能', '性价比', '兼容性', '品质'],
                        datasets: [{
                            label: '评分',
                            data: [data.sub_scores.performance, data.sub_scores.value, data.sub_scores.compatibility, data.sub_scores.quality],
                            backgroundColor: hexToRgba(primary, 0.2),
                            borderColor: primary,
                            borderWidth: 2,
                            pointRadius: 0,
                            pointHoverRadius: 4,
                            pointBackgroundColor: primary
                        }]
                    },
                    options: {
                        scales: {
                            r: {
                                suggestedMin: 0, suggestedMax: 100, ticks: { display: false },
                                grid: { color: hexToRgba(mute, 0.1) },
                                angleLines: { color: hexToRgba(mute, 0.1) },
                                pointLabels: {
                                    color: mute,
                                    font: { size: fontSize, family: "'Noto Sans SC', sans-serif" }
                                }
                            }
                        },
                        plugins: { legend: { display: false }, tooltip: { enabled: false } },
                        animation: { duration: 1000, easing: 'easeOutQuart' }
                    }
                });
            },

            handleThemeChange(mode) {
                if (this.chartInstance && this.currentData) {
                    this.createOrUpdate(this.currentData);
                }
            }
        };

        // =======================================================
        // MAIN APP LOGIC (Spotlight & Parallax)
        // =======================================================

        window.addEventListener('load', function () {

            const cards = document.querySelectorAll('.interactive-card');

            // 物理配置：滞后系数
            const lerpFactor = 0.05;
            const parallaxScale = 0.005; // 3D 倾斜强度

            // [新增] 模拟鼠标位置 (用于卡片视差计算)
            let mouseSmoothX = window.innerWidth / 2;
            let mouseSmoothY = window.innerHeight / 2;

            // [新增] 仅用于 3D 倾斜
            let mouseCurrentX = window.innerWidth / 2;
            let mouseCurrentY = window.innerHeight / 2;


            // 鼠标移动事件 (仅用于 3D 倾斜，不用于光源)
            document.addEventListener('mousemove', e => {
                mouseCurrentX = e.clientX;
                mouseCurrentY = e.clientY;
            });

            // 动画循环 (处理聚光灯和卡片视差)
            let time = 0;
            function animateLight() {
                // 1. 时间步长：保持 0.005，实现沉稳缓慢效果
                time += 0.005;

                // 2. 摇曳感 (Swaying) - 叠加多个正弦波
                // 摇曳幅度保持 80/30
                const swayX = Math.sin(time * 0.5) * 80 + Math.sin(time * 1.2) * 30;
                const swayY = Math.cos(time * 0.4) * 80 + Math.cos(time * 1.5) * 30;

                // 3. 呼吸感 (Breathing) - 尺寸大幅波动
                const breathe = Math.sin(time * 0.8) * 150;
                // [修改 1] 基础尺寸 600
                const size = 600 + breathe;

                // --- 4. 透明度闪烁 (Flicker) - 动态配置 ---
                const lightConfig = LightConfig.get();

                // 调低闪烁频率 (~1/3)，使闪烁间隔更长
                const flickerFreq1 = 0.8;
                const flickerFreq2 = 0.3;

                const opacityWave = Math.sin(time * flickerFreq1) + Math.cos(time * flickerFreq2);

                // [修改 2] 亮度计算：使用 LightConfig 的高亮度基线
                const opacity = lightConfig.baseOpacity + (opacityWave * lightConfig.opacityVariation);

                // 5. 最终光源定位 (固定在屏幕中间顶部)
                // [修改 3] 圆心与上边界齐平：X轴居中，Y轴为 0
                const finalX = (window.innerWidth / 2) + swayX;
                // 减少 Y 轴的摆动幅度，让光晕在垂直方向更稳定
                const finalY = 0 + (Math.cos(time * 0.4) * 15);

                // 应用环境光样式
                const lightEl = document.getElementById('ambient-light');
                const colorMatch = lightConfig.lightColor.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);
                const rgb = colorMatch ? `${colorMatch[1]}, ${colorMatch[2]}, ${colorMatch[3]}` : '255, 255, 255';

                // [核心修改] 变成极度扁平的椭圆形光带：垂直半径设置为 20%
                const radiusX = size * 1.5; // 水平拉伸 150% (保持不变)
                const radiusY = size * 0.20; // [核心修改] 垂直压缩 20%

                lightEl.style.background = `radial-gradient(
                    ${radiusX}px ${radiusY}px at ${finalX}px ${finalY}px,
                    rgba(${rgb}, ${opacity}) 0%, /* 0% radius, full opacity */
                    rgba(${rgb}, ${opacity * 0.95}) 30%, /* 30% radius, slight drop (Slow Decay) */
                    rgba(${rgb}, ${opacity * 0.15}) 60%, /* 60% radius, sharp drop to 15% (Rapid Decay Start) */
                    rgba(${rgb}, 0) 70% /* 70% radius, zero opacity (Clip Edge) */
                )`;

                // ------------------------------------------
                // 6. 卡片 3D 深度摇摆 (Depth Parallax) - 仍由鼠标驱动
                // ------------------------------------------

                // 平滑鼠标位置
                mouseSmoothX += (mouseCurrentX - mouseSmoothX) * lerpFactor;
                mouseSmoothY += (mouseCurrentY - mouseSmoothY) * lerpFactor;

                const centerX = window.innerWidth / 2;
                const centerY = window.innerHeight / 2;

                const normX = (mouseSmoothX - centerX) / centerX;
                const normY = (mouseSmoothY - centerY) / centerY;

                const rotateY = -normX * parallaxScale * 100;
                const rotateX = normY * parallaxScale * 100;

                cards.forEach(card => {
                    if (!card.closest('#resultArea') && card.id !== 'inputCard') return;

                    card.style.transform = `
                        perspective(1000px) 
                        rotateX(${rotateX}deg) 
                        rotateY(${rotateY}deg) 
                        `;
                });

                requestAnimationFrame(animateLight);
            }
            requestAnimationFrame(animateLight);


            ThemeManager.init();
            ChartManager.init();

            if (typeof HARDWARE_DB === 'undefined') {
                document.getElementById('dbStatus').innerHTML = '<span class="state-danger px-2 py-0.5 rounded text-xs">Data Error</span>';
            } else {
                document.getElementById('dbStatus').innerHTML = '<span class="ui-text-highlight font-medium"><i class="fa-solid fa-check-circle"></i> 2025 DB Ready</span>';
            }
        });

        const ALIAS_MAP_KEYS = typeof ALIAS_MAP !== 'undefined' ? ALIAS_MAP : {};
        document.getElementById('configInput').addEventListener('input', function (e) {
            const text = e.target.value;
            const detectedBar = document.getElementById('detectedHardwareBar');
            const detectedTags = document.getElementById('detectedTags');

            if (text.length < 5) {
                detectedBar.classList.add('hidden');
                return;
            }

            const contextItems = extractHardwareContext(text);
            if (contextItems.length > 0) {
                detectedTags.innerHTML = '';
                contextItems.forEach(item => {
                    // 解密动画逻辑
                    const name = item.split('|')[0].replace('[已识别]', '').trim();
                    const span = document.createElement('span');
                    span.className = 'px-2 py-1 ui-tag text-[10px] ui-tag-enter mr-2 mb-1';
                    span.innerText = name;
                    detectedTags.appendChild(span);

                    const originalText = name;
                    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()';
                    let iterations = 0;
                    const interval = setInterval(() => {
                        span.innerText = originalText.split('')
                            .map((char, index) => {
                                if (index < iterations) return originalText[index];
                                return chars[Math.floor(Math.random() * chars.length)];
                            })
                            .join('');
                        if (iterations >= originalText.length) clearInterval(interval);
                        iterations += 1 / 2;
                    }, 30);
                });
                detectedBar.classList.remove('hidden');
            } else {
                detectedBar.classList.add('hidden');
            }
        });

        function extractHardwareContext(text) {
            if (typeof HARDWARE_DB === 'undefined') return [];
            // [核心修复] 移除所有空格进行匹配
            let normalizeText = text.toLowerCase().replace(/\s+/g, '');
            let matches = [];
            let matchedKeys = new Set();
            for (const [alias, realKey] of Object.entries(ALIAS_MAP_KEYS)) {
                if (normalizeText.includes(alias)) {
                    if (!matchedKeys.has(realKey)) {
                        const item = HARDWARE_DB[realKey];
                        if (item) {
                            matches.push(`[已识别] ${item.name} | Score: ${item.score} | Price: $${item.price} (via "${alias}")`);
                            matchedKeys.add(realKey);
                        }
                    }
                }
            }
            return matches;
        }

        async function startAnalysis() {
            const input = document.getElementById('configInput').value.trim();
            if (input.length < 2) return alert("请粘贴配置单内容");

            const btn = document.getElementById('scanBtn');
            const resultArea = document.getElementById('resultArea');
            const errorArea = document.getElementById('errorArea');
            const detectedBar = document.getElementById('detectedHardwareBar');
            const inputCard = document.getElementById('inputCard');

            btn.disabled = true;
            // [交互优化] 按钮添加处理中状态
            btn.classList.add('processing');

            let loadingStep = 0;
            const loadingTexts = ["连接 DeepSeek 分析引擎...", "读取硬件参数...", "交叉比对 2025 数据库...", "生成兼容性报告...", "计算最终得分..."];
            btn.innerHTML = `<i class="fa-solid fa-circle-notch fa-spin"></i> ${loadingTexts[0]}`;

            const loadingInterval = setInterval(() => {
                loadingStep = (loadingStep + 1) % loadingTexts.length;
                btn.innerHTML = `<i class="fa-solid fa-circle-notch fa-spin"></i> ${loadingTexts[loadingStep]}`;
            }, 2500);

            resultArea.classList.remove('hidden');

            const resetTargets = ['card-score', 'card-detail', 'card-summary', 'modules-title', 'footer-text'];
            resetTargets.forEach(id => {
                const el = document.getElementById(id);
                if (el) {
                    el.classList.add('reveal-hidden');
                    el.classList.remove('animate-pop-up', 'animate-unfold', 'animate-slide-up');
                    void el.offsetWidth;
                }
            });
            document.getElementById('aiModulesContainer').innerHTML = '';

            errorArea.classList.add('hidden');
            detectedBar.classList.add('hidden');

            const contextItems = extractHardwareContext(input);

            try {
                const response = await fetch('/api/analyze', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        userContent: input,
                        contextData: contextItems.join('\n')
                    })
                });

                if (!response.ok) throw new Error(await response.text());
                const data = await response.json();
                let contentStr = data.choices?.[0]?.message?.content || data.message?.content || JSON.stringify(data);
                const jsonStr = contentStr.replace(/```json/g, '').replace(/```/g, '').trim();
                renderUI(JSON.parse(jsonStr));
            } catch (error) {
                console.error("Analysis Error:", error);
                document.getElementById('errorText').innerText = "服务暂时不可用，请稍后重试。";
                errorArea.classList.remove('hidden');
                document.getElementById('errorArea').classList.remove('reveal-hidden');
                document.getElementById('errorArea').classList.add('animate-slide-up');
            } finally {
                clearInterval(loadingInterval);
                btn.disabled = false;
                btn.classList.remove('processing'); // 移除处理状态
                btn.innerHTML = '<i class="fa-solid fa-microscope"></i> 开始诊断';
            }
        }

        function typeWriterEffect(text, elementId, speed = 15) {
            const el = document.getElementById(elementId);
            let i = 0;
            el.innerHTML = ''; // 清空

            function type() {
                if (i < text.length) {
                    const chunk = text.slice(0, i + 3);
                    i += 3;
                    el.innerHTML = marked.parse(chunk) + '<span class="cursor-blink"></span>';
                    requestAnimationFrame(type);
                } else {
                    el.innerHTML = marked.parse(text);
                }
            }
            type();
        }

        function renderUI(data) {
            const elements = {
                score: document.getElementById('card-score'),
                detail: document.getElementById('card-detail'),
                summary: document.getElementById('card-summary'),
                title: document.getElementById('modules-title'),
                footer: document.getElementById('footer-text')
            };

            Object.values(elements).forEach(el => {
                if (el) el.classList.remove('reveal-hidden');
            });

            const finalScore = data.total_score !== undefined ? data.total_score : data.score;

            if (window.CountUp) {
                const countUp = new CountUp('scoreDisplay', finalScore, { duration: 2.5 });
                if (!countUp.error) countUp.start();
                else document.getElementById('scoreDisplay').innerText = finalScore;
            } else {
                document.getElementById('scoreDisplay').innerText = finalScore;
            }

            const verdictEl = document.getElementById('verdictBadge');
            let verdictClass = 'state-info';
            if (finalScore >= 120) verdictClass = 'state-success';
            else if (finalScore < 90) verdictClass = 'state-warning';
            verdictEl.className = `px-3 py-1 rounded-md text-xs font-bold transition-colors ${verdictClass}`;
            verdictEl.innerText = data.verdict;

            const prefContainer = document.getElementById('prefContainer');
            if (data.is_preference_match && data.preference_bonus > 0) {
                prefContainer.classList.remove('hidden');
                prefContainer.innerHTML = `
                    <span class="text-[10px] px-2 py-1 rounded shadow-sm flex items-center gap-1 w-fit" 
                          style="background-color: var(--s-bonus-bg); color: var(--s-bonus-text); border: 1px solid var(--s-bonus-border)">
                        <i class="fa-solid fa-star"></i> 偏好加成 +${data.preference_bonus}
                    </span>
                `;
            } else {
                prefContainer.classList.add('hidden');
            }

            // [修改] 进度条分母调整为 150
            const setBar = (id, score) => {
                const el = document.getElementById(id);
                document.getElementById(id.replace('bar-', 'score-')).innerText = score;
                el.style.width = '0%';

                el.className = 'progress-fill'; // 重置
                if (score >= 120) el.classList.add('fill-legendary');
                else if (score >= 100) el.classList.add('fill-success');
                else if (score < 80) el.classList.add('fill-warning');
                else el.classList.add('fill-primary');

                setTimeout(() => { el.style.width = `${Math.min((score / 150) * 100, 100)}%`; }, 600);
            };
            setBar('bar-perf', data.sub_scores.performance);
            setBar('bar-val', data.sub_scores.value);
            setBar('bar-comp', data.sub_scores.compatibility);
            setBar('bar-qual', data.sub_scores.quality);

            setTimeout(() => {
                typeWriterEffect(data.summary, 'aiSummary');
            }, 600);

            const modContainer = document.getElementById('aiModulesContainer');
            modContainer.innerHTML = '';
            if (data.modules) {
                const typePriority = { danger: 0, warning: 1, success: 2, info: 3 };
                data.modules.sort((a, b) => (typePriority[a.type] || 99) - (typePriority[b.type] || 99));

                data.modules.forEach((m, index) => {
                    const stateClass = {
                        success: 'state-success', warning: 'state-warning', danger: 'state-danger'
                    }[m.type] || 'state-info';

                    const icon = {
                        success: 'fa-check-circle', warning: 'fa-triangle-exclamation', danger: 'fa-circle-xmark'
                    }[m.type] || 'fa-circle-info';

                    const div = document.createElement('div');
                    // [注意] 模块卡片现在没有光效了，只保留玻璃质感和动画
                    div.className = `p-4 rounded-lg shadow-sm border ${stateClass} flex gap-3 transition-all hover:-translate-y-1 stagger-item reveal-hidden animate-slide-up interactive-card`;
                    div.style.animationDelay = `${600 + (index * 100)}ms`;

                    div.innerHTML = `
                        <div class="mt-0.5 shrink-0"><i class="fa-solid ${icon}"></i></div>
                        <div class="min-w-0">
                            <h4 class="font-bold text-sm leading-tight mb-1 opacity-90">${m.title}</h4>
                            <div class="text-xs opacity-80 module-content markdown-content">${marked.parse(m.content)}</div>
                        </div>`;
                    modContainer.appendChild(div);
                });
            }

            ChartManager.createOrUpdate(data);

            requestAnimationFrame(() => {
                elements.score.classList.add('animate-pop-up');

                setTimeout(() => elements.detail.classList.add('animate-unfold'), 200);
                setTimeout(() => elements.summary.classList.add('animate-slide-up'), 400);
                setTimeout(() => {
                    elements.title.classList.add('animate-slide-up');
                    elements.footer.classList.add('animate-slide-up');
                    document.querySelectorAll('.stagger-item').forEach(el => el.classList.remove('reveal-hidden'));
                }, 600);
            });
        }
    </script>
</body>

</html>